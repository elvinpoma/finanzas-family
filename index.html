<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FamilyWealth Diagnóstico</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #09090b; color: white; font-family: sans-serif; }
    </style>

    <script>
        window.onerror = function(msg, url, line, col, error) {
            const errorBox = document.getElementById('error-box');
            if (errorBox) {
                errorBox.style.display = 'block';
                errorBox.innerHTML += `<p><strong>ERROR:</strong> ${msg}<br><small>Línea: ${line}</small></p>`;
            }
            return false;
        };
    </script>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>

    <div id="error-box" style="display:none; position:fixed; top:0; left:0; right:0; background:red; color:white; padding:20px; z-index:9999;">
        Esperando a React...
    </div>

    <div id="root"></div>

    <script type="text/babel">
        try {
            const { useState, useEffect } = React;
            
            // Componente Simple de Prueba
            const App = () => {
                const [count, setCount] = useState(0);

                useEffect(() => {
                    // Intentar cargar iconos
                    try { lucide.createIcons(); } catch(e) { console.warn("Lucide falló", e); }
                }, []);

                return (
                    <div className="flex flex-col items-center justify-center min-h-screen p-4">
                        <div className="bg-zinc-800 p-8 rounded-2xl border border-white/10 text-center max-w-md w-full">
                            <i data-lucide="check-circle" className="w-16 h-16 text-green-500 mx-auto mb-4"></i>
                            <h1 className="text-2xl font-bold mb-2">¡Funciona!</h1>
                            <p className="text-gray-400 mb-6">Si ves esto, React está vivo. El problema anterior era seguramente un error de sintaxis o de carga.</p>
                            
                            <button 
                                onClick={() => setCount(c => c + 1)}
                                className="bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg font-bold transition-all"
                            >
                                He pulsado {count} veces
                            </button>
                        </div>
                    </div>
                );
            };

            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<App />);

        } catch (err) {
            document.getElementById('error-box').style.display = 'block';
            document.getElementById('error-box').innerHTML = "CRITICAL JS ERROR: " + err.message;
        }
    </script>
</body>
</html>
